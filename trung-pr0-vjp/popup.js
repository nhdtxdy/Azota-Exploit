chrome.extension.getBackgroundPage().incrementScreenSaveCallback = function (screenSaveCount) 
{
	var screenSaveCountElement = document.getElementById('screenSaveCount');
	screenSaveCountElement.innerHTML = screenSaveCount;
}

document.getElementById('screenSaveCount').innerHTML = chrome.extension.getBackgroundPage().screenSaveCount;

function enableScoreHack() 
{
	chrome.extension.getBackgroundPage().scoreHack = true;
	document.getElementById('questionHackSettings').style.display = 'block';
}

function disableScoreHack()
{
	chrome.extension.getBackgroundPage().scoreHack = false;
	document.getElementById('questionHackSettings').style.display = 'none';
}

function changeProxyServer()
{
	chrome.extension.getBackgroundPage().azotaProxyServer = azotaProxyServerTextBox.value;
}

function changeHonestQuestionCount()
{
	var honestQuestionCountSelector = document.getElementById('honestQuestionCount');
	chrome.extension.getBackgroundPage().honestQuestionCount = honestQuestionCountSelector.value;
}

window.onload = function () 
{
    document.getElementById("enable_score_hack_yes").onclick = enableScoreHack;
	document.getElementById("enable_score_hack_no").onclick = disableScoreHack;

	if (chrome.extension.getBackgroundPage().scoreHack)
	{
		document.getElementById('questionHackSettings').style.display = 'block';
		document.getElementById('enable_score_hack_yes').checked = true;
	}

	var azotaProxyServerTextBox = document.getElementById('azotaProxyServer');
	azotaProxyServerTextBox.value = chrome.extension.getBackgroundPage().azotaProxyServer;
	azotaProxyServerTextBox.onchange = changeProxyServer;

	var honestQuestionCountSelector = document.getElementById('honestQuestionCount');
	honestQuestionCountSelector.value = chrome.extension.getBackgroundPage().honestQuestionCount;
	honestQuestionCountSelector.onchange = changeHonestQuestionCount;
}